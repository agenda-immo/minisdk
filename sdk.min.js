function agendaimmo_xhr(type,url,data,options){options=options||{};var request=new XMLHttpRequest;request.open(type,url,!0),"POST"===type&&request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?options.success&&options.success(agendaimmo_parse(this.responseText)):options.error&&options.error(this.status))},request.send(data)}function agendaimmo_parse(text){try{return JSON.parse(text)}catch(e){return text}}function call_agendaimmo(data,options){if(!1===data.bien_id)return;let img_src;switch(options.theme_logo){case"dark":img_src="logo-solomoB.png";break;case"light":img_src="logo-solomoW.png"}const CDN_URL="https://cdn.jsdelivr.net/gh/agenda-immo/minisdk@main/";img_src=CDN_URL+img_src;let button_code="<div style='"+options.styles_container+"'><a target='_blank' href='"+wwwroot+"/rdvs/rdv/"+data.bien_id+"' style='background-color: "+options.bgcolor+";color:"+options.color+";"+options.styles_button+"'><img src='"+img_src+"' style='"+options.styles_icon+"'> "+options.text+"</a></div>",div=document.createElement("div");div.innerHTML=button_code,document.body.appendChild(div)}function agendaimmo(agence_id,ref_interne,user_options=!1){let options;!1===user_options?options=default_options:(options=default_options,Object.keys(user_options).forEach(key=>{options[key]=user_options[key]})),wwwroot="https://agendaimmo.com",window.addEventListener("load",()=>{let endpoint=wwwroot+"/biens/check/"+agence_id;call_agendaimmo({bien_id:842},options),solomo_xhr("POST",endpoint,"u="+ref_interne,{success:r=>call_agendaimmo(r,options)})})}const default_options={styles_container:"position:absolute;width: 380px;height:100px;top:75px;right:0px;z-index:999",styles_button:"border-radius:60px 0px 0px 60px;text-decoration:none;padding: 0 15px;text-align: center;display: flex;align-items: center;justify-content: space-around;font-size: 25px;font-family: Arial;font-weight: bolder;",styles_icon:"width: 28%; height: auto;",text:"RENDEZ-VOUS VISITE",theme_logo:"light",bgcolor:"#ff2127",color:"#fff"};